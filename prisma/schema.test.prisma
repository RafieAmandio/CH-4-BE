// Test-specific Prisma schema file using SQLite
// This schema is used for testing to avoid conflicts with PostgreSQL

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// Users
model User {
  id               String             @id @default(uuid()) @db.Uuid
  auth             Providers            @default(EMAIL)
  email            String               @unique
  password_hash    String?
  username         String?
  name             String
  nickname         String?
  photo_link       String?
  is_active        Boolean               @default(true)
  created_at        DateTime             @default(now())
  updated_at        DateTime             @updatedAt

  @@map("user")
}

// Events
model Event {
  id               String @id @default(cuid())
  name             String   
  detail           String?  
  photo_link       String?  
  location_name    String?  
  location_address String?  
  location_link    String?  
  latitude         Decimal? 
  longitude        Decimal? 
  status           EventStatus
  start            DateTime 
  end              DateTime 
  link             String?  
  code             String?  
  is_active        Boolean  @default(true)
  created_at       DateTime @default(now()) 
  updated_at       DateTime @default(now())

  @@map("event")
}

enum EventStatus {
  ONGOING
  UPCOMING
  COMPLETED

  @@map("event_status")
}

enum Providers {
  APPLE
  LINKEDIN
  EMAIL

  @@map("providers")
}